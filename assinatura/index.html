<!DOCTYPE html>
<html>
<head>
	<title>Assinatura - internos</title>
	<script type="text/javascript" src="js/html2canvas.js"></script>
	<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ" crossorigin="anonymous"/>

	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.2/css/all.css" integrity="sha384-/rXc/GQVaYpyDdyxK+ecHPVYJSN9bmVFBvjA/9eOB+pb3F2w2N6fc5qB9Ew5yIns" crossorigin="anonymous">



	<link rel="stylesheet" type="text/css" href="css/estilo.css"/>
	<link rel="stylesheet" type="text/css" href="css/animate.css"/>



</head>
<body>

	<header id="topo">
		<h1 style="text-align: center; text-transform: uppercase; line-height: 100px;">Gerador de assinatura</h1>
	</header>

	<div id="assinatura">
		<div id="funcao"></div>			
		<div id="nome"></div>
		<div id="setor"></div>
		<div id="celular"><i class="fab fa-whatsapp"></i></div>
		<div id="telefone"></div>
		<div id="email"></div>
		<img src="img/assinaturaModel.svg" id="imagem"/>
		<p class="site"></p>
	</div>



	<div class="incremento">
			<label>Função: </label>
			<input type="text" name="valor" id="funcaoValor"/>
			
			<label>Nome: </label>
			<input type="text" name="valor" id="nomeValor"/>

			<label>Setor: </label>
			<input type="text" name="valor" id="setorValor"/>

			<label>Celular: </label>
			<input type="text" name="valor" id="celularValor"/>

			<label>Telefone: </label>
			<input type="text" name="valor" id="telefoneValor"/>


			<label>E-mail: </label>
			<input type="email" name="valor" id="emailValor"/>

			

			<!-- Área de botões -->

						<button id="botao" class="jello botao">
							<i class="far fa-images"></i> Gerar assinatura
						</button>

			<!-- Área de botões -->
	</div>

	<div id="aparecer">
		<div id="caixa">aa</div>
		<button id="download" class="botao sub">
			<i class="fas fa-download"></i> Download
		</button>
		<button id="" class="botao sub" onclick="window.location.reload()">
			<i class="fas fa-file-invoice"></i> Nova assinatura
		</button>
	</div>

	<footer id="rodape" style="text-align: center; line-height: 100px;">
		<anddress style="color: #fff;">&copy ATC Telecomunicações LTDA</anddress>
	</footer>

	<script type="text/javascript">
			
			document.getElementsByClassName('site')[0].innerText = "www.atctelecom.com.br";


			// Validação de dados. Função analisa se tem dados nos formulários.

			var results = document.querySelectorAll("input");
			var botao = document.getElementById("botao");
			var aparecer = document.getElementById("aparecer");

			botao.addEventListener("click", function(){

				aparecer.style.display = "block";

				for(res = 0; res <= results.length; i++){

						if (results[res].value.length < 4) { 
							alert("Prencha todos os campos");


							break;
						}
					

						if(results[res].value.length > 4){	

							html2canvas(document.querySelector("#assinatura")).then(canvas => {
			    				document.getElementById("caixa").appendChild(canvas);
							});

							this.style.display = "none";
							caixa.style.display = "block";

							document.getElementById("download").style.display = "block";

							break;

					}


				}


					
			});

		// Final Função analisa se tem dados nos formulários


		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/


		// Função de atribuição

		function dados(eleDiv, eleInp){
		eleInp.addEventListener("keyup", function(){
				eleDiv.innerHTML = this.value;
			});
		}

		// Final função de atribuição


		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/


		// Area da funcao do colaborador
		var funcao = document.getElementById('funcao');
		var funcaoBtn = document.getElementById('funcaoValor');
		funcao.innerText = "cargo";
		
		dados(funcao, funcaoBtn);
		//Final area do colaborador

		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/

		// Area do nome
		var nome = document.getElementById('nome');
		var nomeBtn = document.getElementById('nomeValor');
		nome.innerText = "Nome";
		dados(nome, nomeBtn);

		nomeBtn.addEventListener("keyup", function(){
			if (nomeBtn.value.length >= 1) {
				var div = document.createElement("div");
				div.className = "linha";
				nome.appendChild(div);
			}
		});	
		// Final Area do nome


		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/

		// Area do setor
		var setor = document.getElementById('setor');
		var setorBtn = document.getElementById('setorValor');
		setor.innerText = "Setor";
		

		dados(setor, setorBtn);
		// Final Area do setor


		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/

		//Area do celular
		
		var celular = document.getElementById('celular');
		var celularBtn = document.getElementById('celularValor');
		celular.innerText = "Celular";
		dados(celular, celularBtn);
		celularBtn.addEventListener("keydown", function(){
			switch(this.value.length){
				case 0:
					this.value = this.value.concat("(");
					break;
				case 3:
					this.value = this.value.concat(")");
					break;
				case 10:
					this.value = this.value.concat("-");
					break;
			}	

			if (celularBtn.value.length == 4) {this.value = this.value.concat(" ");}
		});

		// Final Area do celular


		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/


		//Area do telefone
		var telefone = document.getElementById('telefone');
		var telefoneValor = document.getElementById('telefoneValor');
		telefone.innerText = "Telefone/Ramal";
		 

		telefoneValor.addEventListener("keyup", function(){
		 	telefone.innerText = this.value;

		 	if (this.value.length == null || this.value.length == 0) {
		 		telefone.innerHTML = "(11) 99999-9999";
		 	}
		 });

		 telefoneValor.addEventListener("keydown", function(){
			switch(this.value.length){
				case 0:
					this.value = this.value.concat("(");
					break;
				case 3:
					this.value = this.value.concat(")");
					break;
				case 10:
					this.value = this.value.concat("-");
					break;
			}	

			if (this.value.length == 4) {this.value = this.value.concat("  ");}
		});

		 // Final Area do telefone


		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/


		//Area do email

		var email = document.getElementById('email');
		var emailValor = document.getElementById('emailValor');
		email.innerText = "Email";
		dados(email, emailValor);

		// Final Area do email


		/*
		*
		* 
		*
		*  	Espaço entre funções
		*
		*
		*
		*/

		// Estilo de fontes css

		var definicao = document.getElementsByClassName('def');

		for(var i = 0; i <= definicao.length; i++){
			definicao[i].style.fontFamily = "'Raleway', sans-serif";
			definicao[i].style.letterSpacing = "-1px";
			definicao[i].style.color = "#808080";
		}


		// Final estilo fontes css

	</script>

</body>
</html>